
<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="robots" content="noindex">
    <link rel="Stylesheet" href="bootstrap-reboot.min.css" type="text/css" />
    <meta name="theme-color" content="#fafafa" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Mitsubishi Eclipse Cross 2024</title>
    <script type="text/javascript" src="https://static.sketchfab.com/api/sketchfab-viewer-1.12.1.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.cdnfonts.com/css/mmc" rel="stylesheet">
</head>

<body >
    <div class="iframe-gradient"></div>
    <div class="iframe-mask" id="iframe-mask"></div>
    <div class="iframe-loader" id="iframe-loader">carregando 0%...<div></div></div>
    <div class="iframe-container">
        <!-- Insert an empty iframe, hidden by default using a class-->
        <iframe src="" id="api-frame" sandbox="allow-scripts allow-same-origin allow-popups allow-forms" allow="autoplay; fullscreen;" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
    </div>

    <div class="top">
        <div class="navigation">
            <div class="navigation__left">
                <img class="logo" src="logo/mitsubishi.png"/>
            </div>
        </div>
    </div>

    <div id="top-right" class="text-right">
        <div class="selector-box">
            <span class="car-name active">Eclipse Cross</span>
            
        </div>
        
        <div class="info-area">
            <!--<span style="font-size: 12px; text-align: left;padding-bottom: 10px;">O Mitsubishi Eclipse Cross é a combinação do 4x4 com o high-tech, perfeito para quem gosta de tecnologia e prazer ao dirigir. Sofisticação e dirigibilidade unido à segurança, eficiência e muito conforto.</span> -->
            <!--<div class="car-info">
                <div class="potencia">
                    <span style="text-align: center; font-weight: bolder;" >1.5 16 v</span>
                    <span style="font-size: 11px; text-align: center;font-weight: bolder">POTÊNCIA</span>
                </div>
                <div class="km">
                    <span style="text-align: center; font-weight: bolder;" >10 km/L</span>
                    <span style="font-size: 11px; text-align: center;font-weight: bolder">CONSUMO MÉDIO</span>
                </div>
            </div> -->
            <span style="margin-bottom: 10px;">Selecione a Versão</span>
            <center>
                <div class="modelButtons" style="margin-bottom: 20px;" >
                    <div class="btn-group" style="width: 100%;">
                        <button style="float: left; margin-right: 2px;margin-left: 10px;" class="gls active">GLS</button>
                        <button style=" margin-right: 0px;" class="hpe">HPE</button>
                        <button style="margin-right: 0px;" class="hpes">HPE-S</button>
                        <button style="float: right;" class="awd">S-AWC</button>
                    </div>
                </div>
            </center>
            
            <center>
                <div class="btn-group" style="width: 100%;">
                <button style="float: left; margin-left: 15px;" class="changeColor active">Exterior</button>
                <button style="float: right; margin-right: 15px;" class="changeColorInt">Interior</button>
                </div>
            </center>

            <div class="colors active" id="colorPicker" style="background: none;">
                <span class="info" style="font-weight: bolder;"></span>
                <div class="car-color active" data-color-id="0" data-name="Branco Fuji" style="background-color: #ffffff; border: 1px solid black;" data-price="0">
                </div>
                <div class="car-color" data-color-id="2" data-name="Preto Onix Pearl" style="background-color: #343434;" data-price="0">
                </div>
                <div class="car-color" data-color-id="1" data-name="Azul Baikal" style="background-color: #1f478f;" data-price="0">
                </div>
                <div class="car-color" data-color-id="4" data-name="Vermelho Lucid" style="background-color: #aa0e1e;" data-price="0">
                </div>
                <div class="car-color" data-color-id="5" data-name="Prata Cool" style="background-color: #6d7170;" data-price="0">
                </div>
                <div class="car-color" data-color-id="6" data-name="Cinza Londrino" style="background-color: #4a494f;" data-price="0">
                </div>
                <div class="car-color" data-color-id="3" data-name="Prata Lítio" style="background-color: #8d9391;" data-price="0">
                </div>
            </div>

            <div class="colors" id="colorPicker2" style="background: none;">
                <span class="info"></span>
                <div class="int-color" id="intcolorwhite"  data-color-id="0" data-name="Couro Cinza Claro" style="background-color: #FFFFFF; border: 1px solid black;" data-price="0">
                </div>
                <div class="int-color active" data-color-id="1" data-name="Couro Preto" style="background-color: #000000;" data-price="0">
                </div>
            </div>

            <div class="exterior-items active" style="padding-top: 10px;">
                <span >-Roda de liga leve 18”</span>
                <span >-DRL em led</span>
                <span >-Lanternas em led</span>
            </div>
            <div class="interior-items" style="padding-top: 0px; margin-bottom: 10px;">
                <span >-Ar-condicionado digital automático</span>
                <span >-Multimídia JBL com Wi-Fi integrado</span>
                <span >-Câmera de ré</span>
            </div>
           
            <!--<center>
                <div class="timeSelector">
                    <div class="btn-group day" style="width: 100%;">
                      <button style="float: left; margin-left: 15px; margin-bottom: 0px !important;" class="dia active">Dia</button>
                      <button style="float: right; margin-right: 15px;" class="noite">Noite</button>
                    </div>
                </div>
            </center>
            <div class="selector-box">
                <span style="padding-left: 50px;">A partir de</span>
                <span style="padding-left: 50px;margin-top: 6px;font-size: 32px; letter-spacing: 1px;" class="car-feature price" id="totalPrice"></span>
            </div>-->
            
            
        </div>
        

        
    </div>

    

    <div class="views" id="cameraPicker">
        
        <div>
            <svg id="exteriorView" width="48" height="48" viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" class="camera active" data-cam-id="0" style="height: 50px;">
                <title>
                    car-large
                </title>
                <path d="M2.5,23 L2.5,37 C2.5,37.8284271 3.17157288,38.5 4,38.5 L9,38.5 C9.82842712,38.5 10.5,37.8284271 10.5,37 L10.5,35.5 L37.5,35.5 L37.5,37 C37.5,37.8284271 38.1715729,38.5 39,38.5 L44,38.5 C44.8284271,38.5 45.5,37.8284271 45.5,37 L45.5,23 L41,18.5 C40.0666656,16.6666667 39.2333323,15.1666667 38.5,14 C37.7666677,12.8333333 36.7666677,11.5 35.5,10 C31.7608696,9.66666667 27.9347826,9.5 24.0217391,9.5 C20.1086957,9.5 16.2681159,9.66666667 12.5,10 C11.2333336,11.5 10.2333336,12.8333333 9.5,14 C8.76666641,15.1666667 7.93333308,16.6666667 7,18.5 L2.5,23 Z M15,27 L17,24.5 L31,24.5 L33,27 C31.6666667,30.6666667 30.6666667,32.5 30,32.5 C29,32.5 19,32.5 18,32.5 C17.3333333,32.5 16.3333333,30.6666667 15,27 Z M6.75,18.5 L24,18.5 L41.25,18.5 M43.5,23.5749239 C43.5,24.5459384 43.4166667,25.2053587 43.25,25.5531847 C43,26.0749239 42.5,26.5749239 42,26.5749239 L40,26.5749239 C39.5,26.5749239 35.75,25.5749239 35.25,25.0749239 C34.9166667,24.7415905 34.6666667,24.4082572 34.5,24.0749239 C36.2683726,23.841489 37.7683726,23.6748224 39,23.5749239 C40.2316274,23.4750254 41.7316274,23.4750254 43.5,23.5749239 Z M4.5,23.5749239 C6.26837257,23.4750254 7.76837257,23.4750254 9,23.5749239 C10.2316274,23.6748224 11.7316274,23.841489 13.5,24.0749239 C13.3333333,24.4082572 13.0833333,24.7415905 12.75,25.0749239 C12.25,25.5749239 8.5,26.5749239 8,26.5749239 C7.5,26.5749239 6.5,26.5749239 6,26.5749239 C5.5,26.5749239 5,26.0749239 4.75,25.5531847 C4.58333333,25.2053587 4.5,24.5459384 4.5,23.5749239 Z" stroke-width="1" fill="none" fill-rule="evenodd"/>
            </svg>
        </div>
        <div style="margin-left: 14px;">
            <svg id="interiorView" width="48" height="48" viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" class="camera" data-cam-id="1" style="height: 35px;">
                <title>
                    test-drive-large
                </title>
                <path d="M23.5,44.5 C34.545695,44.5 43.5,35.545695 43.5,24.5 C43.5,13.454305 34.545695,4.5 23.5,4.5 C12.454305,4.5 3.5,13.454305 3.5,24.5 C3.5,35.545695 12.454305,44.5 23.5,44.5 Z M23.5,41.5 C27.6881245,41.5 31.5225212,39.9855113 34.4854041,37.4743201 C38.1646435,34.3559808 40.5,29.7007162 40.5,24.5 C40.5,15.1111593 32.8888407,7.5 23.5,7.5 C14.1111593,7.5 6.5,15.1111593 6.5,24.5 C6.5,29.7118989 8.84541031,34.3759979 12.538348,37.494414 C15.4979577,39.9935882 19.3230582,41.5 23.5,41.5 Z M30.0766572,29.0766572 L36.5,35.5 L30.0766572,29.0766572 Z M28.0941322,32.0941322 L34,38 L28.0941322,32.0941322 Z M18.9111915,32.0888085 L13,38 M16.9416504,29.0624695 L10.5,35.5 M16.5,24.5 L6.5,24.5 M40.5,24.5 L30.5,24.5 M7.25431729,19.5 C7.25431729,19.5 10.8362115,19.5 18,19.5 M39.752308,19.5 L29,19.5 L39.752308,19.5 Z M23.5,33.5803114 C27.918278,33.5803114 30.5,30.5803114 30.5,26.0803114 C30.5,23.5803114 30.5,20.5803114 28.5,19.2803122 C26.8974467,18.2386532 20.0987283,18.2411394 18.5,19.2803122 C16.5,20.5803114 16.5,23.5803114 16.5,26.0803114 C16.5,30.5803114 19.081722,33.5803114 23.5,33.5803114 Z"stroke-width="1" fill="none" fill-rule="evenodd"/>
            </svg>
        </div>
        <div>
            <svg id="interiorView2" width="48" height="48" viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" class="camera" data-cam-id="2" style="height: 35px;">
                <title>
                    interior-configuration-large
                </title>
                <path d="M24.2,39 L29.1,45.3 L24.2,39 Z M4.5,43 L4.5,39 C4.5,39 4,34.4 9.2,34.4 C14.4,34.4 24.2,39 24.2,39 C24.2,33.2 31.2,10.7 40.2,15 C40.2,15 42,15.6 40.2,19 C38.4,22.4 30.2,45 30.2,45 C30.2,45 29.8,45.6 24.1,45.6 L4.5,43 Z M37.5,2.5 L40.5,2.5 C41.6,2.5 42.5,3.4 42.5,4.5 L42.5,9.5 C42.5,10.6 41.6,11.5 40.5,11.5 L37.5,11.5 C36.4,11.5 35.5,10.6 35.5,9.5 L35.5,4.5 C35.5,3.4 36.4,2.5 37.5,2.5 Z" stroke-width="1" fill="none" fill-rule="evenodd"/>
            </svg>
        </div>
        <div>
            <svg width="48" height="48" viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" class="animation" id="openDoor" style="height: 35px;">
                <title>door</title>
                <path d="M5.5,42.2V22C12.3,10.7,18.6,8.1,18.6,8.1s15.9-1.3,23.7,0v34.1C42.3,42.2,5.5,42.2,5.5,42.2z" stroke-width="1" fill="none" fill-rule="evenodd"/>
                <line x1="42.3" y1="22" x2="10.9" y2="22" stroke-width="1" fill="none" fill-rule="evenodd"/>
                <path d="M32.7,24.9c3-0.9,5.9,0,5.9,0v1.6c-3,1.3-5.9,0-5.9,0V24.9z" stroke-width="1" fill="none" fill-rule="evenodd"/>
                <path d="M39,36.9l-20.6,0.4c-5.1,0-9.4,1.9-9.4,1.9" stroke-width="1" fill="none" fill-rule="evenodd"/>
                <path d="M7.6,21l2-2.2c2.1-1.5,7.2-2,8.7-0.1c0,0,0.7,1.4,0,3.2h-7.4v1.8H7.6V21z" stroke-width="1" fill="none" fill-rule="evenodd"/>
                <line x1="7.6" y1="22" x2="5.5" y2="22" stroke-width="1" fill="none" fill-rule="evenodd"/>
            </svg>
        </div>
    </div>

    

    

    <script type="text/javascript">
        let vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
        window.addEventListener('resize', () => {
          let vh = window.innerHeight * 0.01;
          document.documentElement.style.setProperty('--vh', `${vh}px`);
        });
        var iframe = document.getElementById('api-frame');
        var urlid = '42b51939c68e448b9c9a06a24a0d21e5';
        var client = null;
        var loadedApi = null;
        var myAnimations = null;
        var paintMaterial = null;
        var porta1Material = null;
        var porta2Material = null;
        var lightsMaterial = null;
        var leatherMaterial = null;
        var intMaterial1 = null;
        var intMaterial2 = null;
        var intMaterial3 = null;
        var intMaterial4 = null;
        var intMaterial5 = null;
        var intMaterial6 = null;
        var intMaterial7 = null;
        var enviromment = null;
        var currentCamera = 0;
        var cameraPosition = [-5, 0, 0];
        var cameraTarget = [0, 0, 1];
        var cameraHeadPosition = [0.16, 0.24, 1.32];
        var cameraHeadTarget = [0.14, -0.06, 1.25];
        var cameraHeadPosition2 = [0.5, -0.4, 1.4];
        var cameraHeadTarget2 = [0, 0.5, 1];
        var selectedModel = 0; //0 GLS 1 HPE 2 HPE-S
        var bodyTextureUID = "615b725c793b4265bc175b3e4482c04c";
        var bodyRoghnessTextureUID = "a9f1fb7601114adbb614c7f324632df5";
        var detailsColorTextureUID = "b92f89769b8347cca727b4777ba8ca2b";
        var detailsRoughnessTextureUID = "76595a30daf740e5ba608d1ebccdba9c";
        var leatherAlbedoFrontTextureUID = "5945fc0eedc546248de8bb7ce8f2c3cd";
        var leatherAlbedoBackTextureUID = "05be3256011a4ec49be6cefd689edeed";
        var lastestModelSelected = 0;

        var basePrice = 242990;
        var option1Price = 0;
        var option2Price = 0;
        var currentColorText = "";
        var currentIntText = "";

        var animationInt;
        var animationRunning = false;
        var doorOpened = false;
        var maxTextureSize = 2048;

        const GAMMA = 2.4;
        var myNodesByNameFromMap = {};
        var myTexturesByNameFromMap = {};
        var idxNodes = 0;

        function srgbToLinear1(c) {
            var v = 0.0;
            if (c < 0.04045) {
                if (c >= 0.0) v = c * (1.0 / 12.92);
            } else {
                v = Math.pow((c + 0.055) * (1.0 / 1.055), GAMMA);
            }
            return v;
        }

        function srgbToLinear(c, out) {
            var col = out || new Array(c.length);

            if (c.length > 2 && c.length < 5) {
                col[0] = srgbToLinear1(c[0]);
                col[1] = srgbToLinear1(c[1]);
                col[2] = srgbToLinear1(c[2]);
                if (col.length > 3 && c.length > 3) col[3] = c[3];
            } else {
                throw new Error('Invalid color. Expected 3 or 4 components, but got ' + c.length);
            }
            return col;
        }

        function hexToRgb(hexColor) {
            var m = hexColor.match(/^#([0-9a-f]{6})$/i);
            if (m) {
                return [
                    parseInt(m[1].substr(0, 2), 16) / 255,
                    parseInt(m[1].substr(2, 2), 16) / 255,
                    parseInt(m[1].substr(4, 2), 16) / 255
                ];
            } else {
                throw new Error('Invalid color: ' + hexColor);
            }
        }

    function changeCarColor(index) {
        
        var carColors = [
            "#FFFFFF",
            "#1f478f",
            "#343434", 
            "#8d9391", 
            "#aa0e1e",
            "#6d7170",
            "#4a494f",
        ];
        var bgColors = [
            "#FFFFFF", 
            "#FFFFFF",
            "#FFFFFF", 
            "#FFFFFF", 
            "#FFFFFF",
            "#FFFFFF",
            "#FFFFFF",
        ];
        var uiLight = [
            false, // white
            false, // green
            false, // black
            false, // orange
            false  // grey
        ];
        var intensity = [
            1, // white
            1, // green
            0.5, // black
            1, // orange
            1  // grey
        ];
        var metalness = [
            0.85, // white
            0.85, // green
            1, // black
            0.6, // orange
            1  // grey
        ];
        if(paintMaterial == null || loadedApi == null){
            console.log("Api not loaded yet or failed.");
            return;
        }
        //const linearColor = srgbToLinear(hexToRgb(carColors[index]));
/*
        loadedApi.getTextureList(function(err, textures) {
            if (!err) {
                //console.log(textures);
            }
        });*/

        paintMaterial.channels.RoughnessPBR.texture = null
        loadedApi.setMaterial(paintMaterial);

        if(selectedModel == 0){

            if(lastestModelSelected != selectedModel){
                 //roughness 
                loadedApi.updateTexture('', bodyRoghnessTextureUID, function(err, bodyRoghnessTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyRoghnessTextureUID);
                    }
                });

                //Details
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/GLS/Dets%20Color/GLS_Dets_Color.png', detailsColorTextureUID, function(err, detailsColorTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', detailsColorTextureUID);
                    }
                });

                //Details Roughtness
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/GLS/Dets%20Color/GLS_Dets_Roghness.png', detailsRoughnessTextureUID, function(err, detailsRoughnessTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', detailsRoughnessTextureUID);
                    }
                });
            }
            


            if(index == 0){
            loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/GLS/Body%20Color/GLS_Body_Branco_Alpino.png', bodyTextureUID, function(err, bodyTextureUID) {
                if (!err) {
                    loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/GLS/Body%20Color/GLS_Body_Roghness.png', bodyRoghnessTextureUID, function(err, bodyRoghnessTextureUID) {
                    
                    });
                    //console.log('Replaced texture with UID', bodyTextureUID);
                    paintMaterial.channels.ClearCoatRoughness.factor = 0.072;
                    loadedApi.setMaterial(paintMaterial);
                    enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                }
                });
            }else if(index == 2){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/GLS/Body%20Color/GLS_Body_Preto_Onix.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        //console.log('Replaced texture with UID', bodyTextureUID);
                    }
                    enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                });
            }else if(index == 1){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/GLS/Body%20Color/GLS_Body_Azul_Baikal.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/GLS/Body%20Color/GLS_Body_Roghness.png', bodyRoghnessTextureUID, function(err, bodyRoghnessTextureUID) {
                    
                        });
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0.072;
                        loadedApi.setMaterial(paintMaterial);

                        enviromment.exposure = 2.08;
                        loadedApi.setEnvironment(enviromment);
                        


                    }
                });
            }else if(index == 3){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/GLS/Body%20Color/GLS_Body_Prata_Litio.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                    }
                });
            }else if(index == 4){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/GLS/Body%20Color/GLS_Body_Vermelho_Lucid.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                    }
                });
            }else if(index == 5){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/GLS/Body%20Color/GLS_Body_Prata_Cool.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                    }
                });
            }else if(index == 6){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/GLS/Body%20Color/GLS_Body_Cinza_Londrino.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                    }
                });
            }
        }else if(selectedModel == 1){

            if(lastestModelSelected != selectedModel){
                //roughness 
                loadedApi.updateTexture('', bodyRoghnessTextureUID, function(err, bodyRoghnessTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyRoghnessTextureUID);
                        
                    }
                });

                //Details
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE/Dets%20Color/HPE_Dets_Color.png', detailsColorTextureUID, function(err, detailsColorTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', detailsColorTextureUID);
                    }
                });

                //Details Roughtness
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE/Dets%20Color/HPE_Dets_Roghness.png', detailsRoughnessTextureUID, function(err, detailsRoughnessTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', detailsRoughnessTextureUID);
                    }
                });
            }

            if(index == 0){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE/Body%20Color/HPE_Body_Branco_Alpino.png', bodyTextureUID, function(err, bodyTextureUID) {
                if (!err) {
                    loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE/Body%20Color/HPE_Body_Roghness.png', bodyRoghnessTextureUID, function(err, bodyRoghnessTextureUID) {
                    
                });
                    //console.log('Replaced texture with UID', bodyTextureUID);
                    paintMaterial.channels.ClearCoatRoughness.factor = 0.072;
                    loadedApi.setMaterial(paintMaterial);
                    enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                }
                });
            }else if(index == 2){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE/Body%20Color/HPE_Body_Preto_Onix.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                    }
                });
            }else if(index == 1){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE/Body%20Color/HPE_Body_Azul_Baikal.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE/Body%20Color/HPE_Body_Roghness.png', bodyRoghnessTextureUID, function(err, bodyRoghnessTextureUID) {
                    
                });
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0.072;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 2.08;
                        loadedApi.setEnvironment(enviromment);
                    }
                });
            }else if(index == 3){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE/Body%20Color/HPE_Body_Prata_Litio.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                    }
                });
            }else if(index == 4){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE/Body%20Color/HPE_Body_Vermelho_Lucid.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                    }
                });
            }else if(index == 5){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE/Body%20Color/HPE_Body_Prata_Cool.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                    }
                });
            }else if(index == 6){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE/Body%20Color/HPE_Body_Cinza_Londrino.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                    }
                });
            }
        }else if(selectedModel == 2){

            if(lastestModelSelected != selectedModel){
                //roughness 
                loadedApi.updateTexture('', bodyRoghnessTextureUID, function(err, bodyRoghnessTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyRoghnessTextureUID);
                    }
                });

                //Details
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE-S/Dets%20Color/HPE-S_Dets_Color.png', detailsColorTextureUID, function(err, detailsColorTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', detailsColorTextureUID);
                    }
                });

                //Details Roughtness
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE-S/Dets%20Color/HPE-S_Dets_Roghness.png', detailsRoughnessTextureUID, function(err, detailsRoughnessTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', detailsRoughnessTextureUID);
                        
                    }
                });
            }
            

            if(index == 0){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE-S/Body%20Color/HPE-S_Body_BrancoAlpino.png', bodyTextureUID, function(err, bodyTextureUID) {
                if (!err) {
                    loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE-S/Body%20Color/HPE-S_Body_Roghness.png', bodyRoghnessTextureUID, function(err, bodyRoghnessTextureUID) {
                    
                });
                    //console.log('Replaced texture with UID', bodyTextureUID);
                    paintMaterial.channels.ClearCoatRoughness.factor = 0.072;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                }
                
                });
            }else if(index == 2){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE-S/Body%20Color/HPE-S_Body_PretoOnix.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                    }
                });
            }else if(index == 1){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE-S/Body%20Color/HPE-S_Body_AzulBaikal.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE-S/Body%20Color/HPE-S_Body_Roghness.png', bodyRoghnessTextureUID, function(err, bodyRoghnessTextureUID) {
                    
                });
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0.072;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 2.08;
                        loadedApi.setEnvironment(enviromment);
                    }
                });
            }else if(index == 3){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE-S/Body%20Color/HPE-S_Body_PrataLitio.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                    }
                });
            }else if(index == 4){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE-S/Body%20Color/HPE-S_Body_VermelhoLucid.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                    }
                });
            }else if(index == 5){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE-S/Body%20Color/HPE-S_Body_PrataCool.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                    }
                });
            }else if(index == 6){
                loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE-S/Body%20Color/HPE-S_Body_CinzaLondrino.png', bodyTextureUID, function(err, bodyTextureUID) {
                    if (!err) {
                        //console.log('Replaced texture with UID', bodyTextureUID);
                        paintMaterial.channels.ClearCoatRoughness.factor = 0;
                        loadedApi.setMaterial(paintMaterial);
                        enviromment.exposure = 1;
                    loadedApi.setEnvironment(enviromment);
                    }
                });
            }
        }

        

        


        //GLS_Body_Branco_Alpino.png
        //paintMaterial.channels.Albedo.enable = true;
        //paintMaterial.channels.SpecularPBR.color = linearColor;
        //paintMaterial.channels.
        //paintMaterial.channels.SpecularPBR.factor = intensity[index];
        //paintMaterial.channels.MetalnessPBR.factor = metalness[index];
        //loadedApi.setMaterial(paintMaterial, function(){
            //$("body").css({"background": bgColors[index]});
            //if(uiLight[index]){
            //    if(!$("body").hasClass("light"))
            //        $("body").addClass("light");
            //} else {
            //    if($("body").hasClass("light"))
            //        $("body").removeClass("light");
            //}
        //});
    }


    function changeLeatherColor(index) {
        var colors = [
            "#FFFFFF",
            "#000000",
        ];
        if(loadedApi == null){
            console.log("Api not loaded yet or failed.");
            return;
        }

        if(selectedModel != 2){
            index = 1;
        }

        if(index == 0){
            //door leather black
            loadedApi.hide(myNodesByNameFromMap['P_Back_Int_R_Leather_Black'].instanceID);
            loadedApi.hide(myNodesByNameFromMap['P_Back_Int_L_Leather_Black'].instanceID);

            //door leather white
            loadedApi.show(myNodesByNameFromMap['P_Back_Int_R_Leather_White'].instanceID);
            loadedApi.show(myNodesByNameFromMap['P_Back_Int_L_Leather_White'].instanceID);

            loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/Seats/Seats_Front/Leather_White_albedo.jpg', leatherAlbedoFrontTextureUID, function(err, leatherAlbedoFrontTextureUID) {
            if (!err) {
                //console.log('Replaced texture with UID', leatherAlbedoFrontTextureUID);
            }
            });

            loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/Seats/Seats_Back/Seat_Back_LeatherWhite_Color.png', leatherAlbedoBackTextureUID, function(err, leatherAlbedoBackTextureUID) {
            if (!err) {
                //console.log('Replaced texture with UID', leatherAlbedoBackTextureUID);
            }
            });

            porta1Material.channels.AlbedoPBR.color = [1,1,1];
            porta2Material.channels.AlbedoPBR.color = [1,1,1];

            loadedApi.setMaterial(porta1Material, function(){
            });

            loadedApi.setMaterial(porta2Material, function(){
            });
        }else if(index == 1){
            
            //door leather black
            loadedApi.show(myNodesByNameFromMap['P_Back_Int_R_Leather_Black'].instanceID);
            loadedApi.show(myNodesByNameFromMap['P_Back_Int_L_Leather_Black'].instanceID);

            //door leather white
            loadedApi.hide(myNodesByNameFromMap['P_Back_Int_R_Leather_White'].instanceID);
            loadedApi.hide(myNodesByNameFromMap['P_Back_Int_L_Leather_White'].instanceID);
            
            loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/Seats/Seats_Front/Leather_Black_albedo.jpg', leatherAlbedoFrontTextureUID, function(err, leatherAlbedoFrontTextureUID) {
            if (!err) {
                //console.log('Replaced texture with UID', leatherAlbedoFrontTextureUID);
            }
            });
            loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/Seats/Seats_Back/Seat_Back_LeatherBlack_Color.png', leatherAlbedoBackTextureUID, function(err, leatherAlbedoBackTextureUID) {
            if (!err) {
                //console.log('Replaced texture with UID', leatherAlbedoBackTextureUID);
            }
            });

            porta1Material.channels.AlbedoPBR.color = [0,0,0];
            porta2Material.channels.AlbedoPBR.color = [0,0,0];

            loadedApi.setMaterial(porta1Material, function(){
            });

            loadedApi.setMaterial(porta2Material, function(){
            });
        }

        //Trocar cor do banco
        /*
        if(index == 0){
            loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE-S/Body%20Color/HPE-S_Body_BrancoAlpino.png', leatherAlbedoTextureUID, function(err, leatherAlbedoTextureUID) {
            if (!err) {
                console.log('Replaced texture with UID', leatherAlbedoTextureUID);
            }
            });
        }else if(index == 2){
            loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE-S/Body%20Color/HPE-S_Body_PretoOnix.png', bodyTextureUID, function(err, bodyTextureUID) {
                if (!err) {
                    console.log('Replaced texture with UID', bodyTextureUID);
                }
            });
        }else if(index == 1){
            loadedApi.updateTexture('https://seedsofnature.github.io/metakosmos/textures/HPE-S/Body%20Color/HPE-S_Body_AzulBaikal.png', bodyTextureUID, function(err, bodyTextureUID) {
                if (!err) {
                    console.log('Replaced texture with UID', bodyTextureUID);
                }
            });
        }*/


        //const linearColor = srgbToLinear(hexToRgb(colors[index]));
        //leatherMaterial.channels.AlbedoPBR.color = linearColor;
        //loadedApi.setMaterial(leatherMaterial, function(){
        //});
    }


    function changeIntColor1(index) {
        var colors = [
            "#8b7d70",
            "#a3a3a3",
            "#a3a3a3",
            "#a3a3a3",
            "#1c1c1c"
        ];
        if(intMaterial1 == null || loadedApi == null){
            console.log("Api not loaded yet or failed.");
            return;
        }
        const linearColor = srgbToLinear(hexToRgb(colors[index]));
        intMaterial1.channels.AlbedoPBR.color = linearColor;
        loadedApi.setMaterial(intMaterial1, function(){
        });
    }
    function changeIntColor2(index) {
        var colors = [
            "#8b7d70",
            "#1c1c1c",
            "#1c1c1c",
            "#606060",
            "#1c1c1c"
        ];
        if(intMaterial2 == null || loadedApi == null){
            console.log("Api not loaded yet or failed.");
            return;
        }
        const linearColor = srgbToLinear(hexToRgb(colors[index]));
        intMaterial2.channels.AlbedoPBR.color = linearColor;
        loadedApi.setMaterial(intMaterial2, function(){
        });
    }
    function changeIntColor3(index) {
        var colors = [
            "#8b7d70",
            "#1c1c1c",
            "#1c1c1c",
            "#606060",
            "#1c1c1c"
        ];
        if(intMaterial3 == null || loadedApi == null){
            console.log("Api not loaded yet or failed.");
            return;
        }
        const linearColor = srgbToLinear(hexToRgb(colors[index]));
        intMaterial3.channels.AlbedoPBR.color = linearColor;
        loadedApi.setMaterial(intMaterial3, function(){
        });
    }
    function changeIntColor4(index) {
        var colors = [
            "#9d9d9d",
            "#aaaaaa",
            "#aaaaaa",
            "#aaaaaa",
            "#1c1c1c"
        ];
        if(intMaterial4 == null || loadedApi == null){
            console.log("Api not loaded yet or failed.");
            return;
        }
        const linearColor = srgbToLinear(hexToRgb(colors[index]));
        intMaterial4.channels.AlbedoPBR.color = linearColor;
        loadedApi.setMaterial(intMaterial4, function(){
        });
    }
    function changeIntColor5(index) {
        var colors = [
            "#3c3c3c",
            "#3c3c3c",
            "#3c3c3c",
            "#3c3c3c",
            "#3c3c3c"
        ];
        if(intMaterial5 == null || loadedApi == null){
            console.log("Api not loaded yet or failed.");
            return;
        }
        const linearColor = srgbToLinear(hexToRgb(colors[index]));
        intMaterial5.channels.AlbedoPBR.color = linearColor;
        loadedApi.setMaterial(intMaterial5, function(){
        });
    }
    function changeIntColor6(index) {
        var colors = [
            "#382f2b", // beige
            "#1c1c1c",
            "#1c1c1c",
            "#434343",
            "#1c1c1c"
        ];
        if(intMaterial6 == null || loadedApi == null){
            console.log("Api not loaded yet or failed.");
            return;
        }
        const linearColor = srgbToLinear(hexToRgb(colors[index]));
        intMaterial6.channels.AlbedoPBR.color = linearColor;
        loadedApi.setMaterial(intMaterial6, function(){
        });
    }
    function changeIntColor7(index) {
        var colors = [
            "#8b7d70",
            "#1c1c1c",
            "#1c1c1c",
            "#606060",
            "#1c1c1c"
        ];
        if(intMaterial7 == null || loadedApi == null){
            console.log("Api not loaded yet or failed.");
            return;
        }
        const linearColor = srgbToLinear(hexToRgb(colors[index]));
        intMaterial7.channels.AlbedoPBR.color = linearColor;
        loadedApi.setMaterial(intMaterial7, function(){
        });
    }

        function changeInterior(index) {
            changeLeatherColor(index);
        }

      function changeCamera(index, animate = false){
          if(loadedApi == null){
              console.log("Api not loaded yet or failed.");
              return;
          }
          loadedApi.setCameraEasing('easeLinear');
          if(index == 0){
              loadedApi.lookat(
                cameraPosition,
                cameraTarget,
                animate ? 1 : 0
              );

              loadedApi.setCameraConstraints({
                    zoomIn: 2.9,
                    zoomOut: 7,
                    useCameraConstraints: true,
                    useZoomConstraints: true,
                    usePitchConstraints: true,
                    useYawConstraints: false,
                    left: -1.6755160819145563,
                    right: 1.6755160819145563,
                    up: 1.5707963267948966,
                    down: 0.08,
              });
 
              loadedApi.setFov(40);
              if($("#api-frame").hasClass("interior"))
                  $("#api-frame").removeClass("interior");
          } else if(index == 1){
            loadedApi.setCameraConstraints({
                    zoomIn: 0.1,
                    zoomOut: 0.4,
                    useCameraConstraints: true,
                    useZoomConstraints: true,
                    usePitchConstraints: true,
                    useYawConstraints: true,
                    left: -1.6755160819145563,
                    right: 1.6755160819145563,
                    up: 1.5707963267948966,
                    down: -0.22597420841610782,
              });

              loadedApi.lookat(
                cameraHeadPosition,
                cameraHeadTarget,
                animate ? 1 : 0
              );

              
              loadedApi.setFov(60);
              if(!$("#api-frame").hasClass("interior"))
                  $("#api-frame").addClass("interior");
          } else if(index == 2){

            loadedApi.setCameraConstraints({
                    zoomIn: 0.1,
                    zoomOut: 0.7,
                    useCameraConstraints: true,
                    useZoomConstraints: true,
                    usePitchConstraints: true,
                    useYawConstraints: false,
                    up: 1.5707963267948966,
                    down: -0.22597420841610782,
              });

              loadedApi.lookat(
                cameraHeadPosition2,
                cameraHeadTarget2,
                animate ? 1 : 0
              );
              
              loadedApi.setFov(60);
              if(!$("#api-frame").hasClass("interior"))
                  $("#api-frame").addClass("interior");
          }
      }
        var prcValue = 0;
        var nextprc = 10;
        setInterval(function(){
            if(prcValue < nextprc && prcValue < 100)
                prcValue += 1;
            document.getElementById("iframe-loader").innerHTML = "carregando " + prcValue + "%<div style='width: " + prcValue + "%'></div>";
        }, 150);


        function loadmodel(){
            nextprc = 20;
            document.addEventListener('load', () => console.log('viewerready'));
            var client = new Sketchfab('1.12.1', iframe );

            const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
            if (isMobile) {
                maxTextureSize = 512;
            }else{
                maxTextureSize = 2048;
            }

            client.init( urlid, {
                success: function onSuccess( api ){
                    console.log( 'Success' );

                    loadedApi = api;
                    nextprc = 30;
                    api.load();
                    api.start();
                    nextprc = 80;

                    api.addEventListener( 'viewerready', function() {
                        nextprc = 99;
                        console.log( 'Viewer is ready');
                        let $apiFrame = document.getElementById("api-frame");
                        var frameMask = document.getElementById("iframe-mask");
                        var loader = document.getElementById("iframe-loader");
                        $apiFrame.classList.remove("iframe-hidden");

                        api.getNodeMap(function(err, nodes) {
                            if (err) {
                                console.log('Error getting nodes');
                                return;
                            }
                            for (var instanceID in nodes){
                                var node= nodes[instanceID];
                                var name = node.name;
                                if (!name) name = "noname_" + idxNodes++;                		
                                myNodesByNameFromMap[name] = node;
                            }
                        

                            //farol
                            api.hide(myNodesByNameFromMap['Lights_Front_Silver'].instanceID);
                            api.hide(myNodesByNameFromMap['Lights_Front_VD_Glass'].instanceID);
                            api.hide(myNodesByNameFromMap['Lights_Front_Chrome'].instanceID);
                            api.hide(myNodesByNameFromMap['Lights_Front_BlackShiny'].instanceID);
                            api.hide(myNodesByNameFromMap['Lights_Front_Chrome.003'].instanceID);

                        //shifter 2306
                        //api.hide(myNodesByNameFromMap['Painel_PaddleShifter.001'].instanceID);

                        //body
                        api.hide(myNodesByNameFromMap['Body_Roof_HPE-S (Shiny details)'].instanceID);
                        api.hide(myNodesByNameFromMap['Body_Roof_HPE-S'].instanceID);
                        api.hide(myNodesByNameFromMap['Body_VD_Glass_Top'].instanceID);
                        api.hide(myNodesByNameFromMap['Body_Roof_Open.002'].instanceID);
                            
                        api.hide(myNodesByNameFromMap['LogoBack_Vidro'].instanceID);
                        api.hide(myNodesByNameFromMap['LogoBack_S'].instanceID);
                        api.hide(myNodesByNameFromMap['LogoBack_HPE'].instanceID);

                        api.hide(myNodesByNameFromMap['P_Front_SideDetail_L'].instanceID);
                        api.hide(myNodesByNameFromMap['P_Front_SideDetail_R'].instanceID);
                        

                        api.hide(myNodesByNameFromMap['P_Back_Int_R_Leather_Black'].instanceID);
                        api.hide(myNodesByNameFromMap['P_Back_Int_L_Leather_Black'].instanceID);

                        api.hide(myNodesByNameFromMap['LogoFront_BlackShiny'].instanceID);

                        api.hide(myNodesByNameFromMap['Cambio_Esp_HPE-S'].instanceID);

                        api.hide(myNodesByNameFromMap['Button_GearPanel_Parking_Detail'].instanceID);
                        api.hide(myNodesByNameFromMap['Button_GearPanel_Parking'].instanceID);
                        api.hide(myNodesByNameFromMap['Button_GearPanel_SeatHealting'].instanceID);
                        
                        });

                        api.getEnvironment(function(err, envInfo) {
                            if (!err) {
                                enviromment = envInfo;
                            }
                        });

                        api.getTextureList(function(err, textures) {
                            if (err) {
                                console.log('Error getting nodes');
                                return;
                            }
                            idxNodes = 0;
                            for (var tUID in textures){
                                var texture= textures[tUID];
                                var name = texture.name;
                                if (!name) name = "noname_" + idxNodes++;                		
                                myTexturesByNameFromMap[name] = texture;
                            }


                            bodyRoghnessTextureUID = myTexturesByNameFromMap['GLS_Body_Roghness.png'].uid;
                            detailsColorTextureUID = myTexturesByNameFromMap['GLS_Dets_Color.png'].uid;
                            detailsRoughnessTextureUID = myTexturesByNameFromMap['GLS_Dets_Roghness.png'].uid;
                            bodyTextureUID =  myTexturesByNameFromMap['Car_Red.png'].uid; //cor do carro
                            leatherAlbedoFrontTextureUID = myTexturesByNameFromMap['Leather_White_albedo.jpg'].uid;
                            leatherAlbedoBackTextureUID = myTexturesByNameFromMap['Seat_Back_LeatherWhite_Color.png'].uid;
                        
                        });

                        api.getAnimations(function(err, animations){
                            myAnimations = animations;
                            if(animations.length > 0){
                                api.setCurrentAnimationByUID(animations[0][0]); //0 8 18 30
                                api.setCycleMode('one');
                                api.pause();
                                api.seekTo(0);
                            }
                            
                        });

                        api.setPostProcessing({
                            vignetteEnable: false
                        });

                        
                        api.addEventListener('camerastop', function(){
                            api.getCameraLookAt(function(err, camera) {
                                var camTarget = camera.target;
                                switch(currentCamera){
                                    case 0:
                                        if(camTarget[0] != cameraTarget[0] || camTarget[1] != cameraTarget[1] || camTarget[2] != cameraTarget[2])
                                            changeCamera(0, true);
                                            //if($(".dia").hasClass("active")){
                                                $(".logo").attr("src","logo/mitsubishi.png");
                                            //}else{
                                            //    $(".logo").attr("src","logo/mitsubishi-white.png");
                                            //}
                                            
                                        break;
                                    case 1:
                                        if(camTarget[0] != cameraHeadTarget[0] || camTarget[1] != cameraHeadTarget[1] || camTarget[2] != cameraHeadTarget[2])
                                            changeCamera(1, true);
                                            $(".logo").attr("src","logo/mitsubishi-white.png");
                                        break;
                                    case 2:
                                        if(camTarget[0] != cameraHeadTarget2[0] || camTarget[1] != cameraHeadTarget2[1] || camTarget[2] != cameraHeadTarget2[2])
                                            changeCamera(2, true);
                                            $(".logo").attr("src","logo/mitsubishi-white.png");
                                        break;
                                    default:
                                        console.log("Wrong camera index!");
                                        break;
                                }
                            });
                        });

                        api.getMaterialList(function(err, materials){
                            for(var i=0;i<materials.length;i++){
                                if (materials[i].name == "Eclipse_Body_Textures") {
                                    paintMaterial = materials[i];
                                } else if(materials[i].name == "int_brown"){
                                    leatherMaterial = materials[i];
                                } else if(materials[i].name == "int_brown"){
                                    intMaterial1 = materials[i];
                                } else if(materials[i].name == "int_brown"){
                                    intMaterial3 = materials[i];
                                } else if(materials[i].name == "int_brown"){
                                    intMaterial4 = materials[i];
                                } else if(materials[i].name == "int_brown"){
                                    intMaterial5 = materials[i];
                                } else if(materials[i].name == "int_brown"){
                                    intMaterial6 = materials[i];
                                } else if(materials[i].name == "int_brown"){
                                    intMaterial7 = materials[i];
                                } else if(materials[i].name == "PortaInt_Leather_White.002"){
                                    porta1Material = materials[i];
                                }else if(materials[i].name == "PortaInt_Leather_White.001"){
                                    porta2Material = materials[i];
                                }else if(materials[i].name == "Emessive"){
                                    lightsMaterial = materials[i];
                                    //lightsMaterial.channels.EmitColor.factor = 0;
                                    //api.setMaterial(lightsMaterial);
                                }
                            }

                            api.getCameraLookAt(function(err, camera) {
                                changeCamera(0);
                                setTimeout(function(){
                                    nextprc = 100;
                                    changeCarColor(0);
                                    changeInterior(0);
                                    $("#intcolorwhite").css("display","none");
                                    setTimeout(function(){
                                        prcValue = 100;
                                        document.getElementById("iframe-loader").innerHTML = "carregando 100%<div style='width: 100%'></div>";
                                        frameMask.classList.add("hidden");
                                        loader.classList.add("hidden");
                                    }, 1000);
                                }, 1100);
                            });
                        });
                    });
                },
                error: function onError(callback){
                    console.log(this.error);
                },
                dnt: 1,
                graph_optimizer: 0,
                ui_animations: 0,
                ui_annotations: 0,
                ui_general_controls: 0,
                ui_watermark_link: 0,
                ui_watermark: 0,
                ui_infos: 0,
                ui_stop: 0,
                transparent: 1,
                camera: 0,
                scrollwheel: 1,
                max_texture_size: maxTextureSize,
                preload: 1,
                double_click: 0,
                orbit_constraint_pitch_down: 0,
                orbit_constraint_pitch_up: 0.65,
                orbit_constraint_pan: 1,
                orbit_constraint_zoom_out: 20
            });
        }

        $(document).ready(function(){
            loadmodel();
            currentColorText = $("#colorPicker .car-color.active").data("name");
            if(parseInt($("#colorPicker .car-color.active").data("price")) != 0)
                currentColorText += " £" + $("#colorPicker .car-color.active").data("price");
            currentIntText = $("#colorPicker2 .int-color.active").data("name");
            if(parseInt($("#colorPicker2 .int-color.active").data("price")) != 0)
                currentIntText += " £" + $("#colorPicker2 .int-color.active").data("price");
            $("#colorPicker span.info").text(currentColorText);
            $("#colorPicker2 span.info").text(currentIntText);
            $("#totalPrice").text(writePrice(basePrice + option1Price + option2Price));
            $(".car-color").click(function(){
                var carColorIndex = $(this).data("color-id");
                $(".car-color").removeClass("active");
                $(this).addClass("active");
                currentColorText = $(this).data("name");
                if(parseInt($(this).data("price")) != 0)
                    currentColorText += " £" + $(this).data("price");
                option1Price = parseInt($(this).data("price"));
                $("#totalPrice").text(writePrice(basePrice + option1Price + option2Price));
                changeCarColor(carColorIndex);
            });
            $(".car-color").hover(function(){
                var newText = $(this).data("name");
                if(parseInt($(this).data("price")) != 0)
                    newText += " £" + $(this).data("price");
                $("#colorPicker span.info").text(newText);
            }, function(){
                $("#colorPicker span.info").text(currentColorText);
            });
            $(".int-color").click(function(){
                var intColorIndex = $(this).data("color-id");
                $(".int-color").removeClass("active");
                $(this).addClass("active");
                currentIntText = $(this).data("name");
                if(parseInt($(this).data("price")) != 0)
                    currentIntText += " £" + $(this).data("price");
                option2Price = parseInt($(this).data("price"));
                $("#totalPrice").text(writePrice(basePrice + option1Price + option2Price));
                changeInterior(intColorIndex);
            });
            $(".int-color").hover(function(){
                var newText = $(this).data("name");
                if(parseInt($(this).data("price")) != 0)
                    newText += " £" + $(this).data("price");
                $("#colorPicker2 span.info").text(newText);
            }, function(){
                $("#colorPicker2 span.info").text(currentIntText);
            });
            $(".camera").click(function(){
                
                currentCamera = $(this).data("cam-id");

                if(currentCamera != 0){
                    $("#colorPicker2").addClass("active");
                    $("#colorPicker").removeClass("active");
                    $(".changeColor").removeClass("active");
                    $(".changeColorInt").addClass("active");
                    $(".exterior-items").removeClass("active");
                    $(".interior-items").addClass("active");
                }else{
                    $("#colorPicker").addClass("active");
                    $("#colorPicker2").removeClass("active");
                    $(".changeColor").addClass("active");
                    $(".changeColorInt").removeClass("active");
                    $(".exterior-items").addClass("active");
                    $(".interior-items").removeClass("active");
                }
                console.log("Change camera " + currentCamera);
                changeCamera(currentCamera);
            });

            $(".dia").click(function(){
                
                $(".dia").addClass("active");
                $(".noite").removeClass("active");

                $(".logo").attr("src","logo/mitsubishi.png");

                $("body").css({"background-color": "#FFFFFF"});
                if($("body").hasClass("light"))
                    $("body").removeClass("light");

                loadedApi.setLight(0, {color: [0.78, 0.79, 1], intensity: 0.42}, function(err) {
                    if (!err) {
                    }
                });
                loadedApi.setLight(1, {color: [1, 0.87, 0.70], intensity: 1.88}, function(err) {
                    if (!err) {
                    }
                });
                loadedApi.setLight(2, {color: [0.42, 0.73, 1], intensity: 0.26}, function(err) {
                    if (!err) {
                    }
                });
                //lightsMaterial.channels.EmitColor.factor = 0;
                //loadedApi.setMaterial(lightsMaterial);
                
            });

            $(".noite").click(function(){

                $(".dia").removeClass("active");
                $(".noite").addClass("active");

                $(".logo").attr("src","logo/mitsubishi-white.png");

                $("body").css({"background-color": "#121212"});

                if(!$("body").hasClass("light"))
                    $("body").addClass("light");

                loadedApi.setLight(0, {color: [1, 0.9, 0.1], intensity: 0.1}, function(err) {
                    if (!err) {
                    }
                });
                loadedApi.setLight(1, {color: [1, 0.9, 0.2], intensity: 0.2}, function(err) {
                    if (!err) {
                    }
                });
                loadedApi.setLight(2, {color: [1, 0.9, 0.2], intensity: 0.05}, function(err) {
                    if (!err) {
                    }
                });

                //lightsMaterial.channels.EmitColor.factor = 7.5;
                //loadedApi.setMaterial(lightsMaterial);
            });

            $(".gls").click(function(){
                

                var html = "<span >-Roda de liga leve 18”</span> <span >-DRL em led</span> <span >-Lanternas em led</span>";
                $(".exterior-items").html(html);
                var htmlint = "<span >- Ar-condicionado digital automático</span> <span >- Multimídia JBL com Wi-Fi integrado</span> <span >- Câmera de ré</span>";
                $(".interior-items").html(htmlint);


                $("#colorPicker2 span.info").text("Couro Preto");
                //farol
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Silver'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_VD_Glass'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Chrome'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_BlackShiny'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Chrome.003'].instanceID);

                loadedApi.show(myNodesByNameFromMap['Lights_Front_Conver_GLS_Chrome'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_Case_GLS_Chrome'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_GLS_BlackMatt'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_Cover_LedGLS_Silver'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_Glass_GLS_Emissive'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_Grid_GLS_Silver'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_Glass_GLS_Chrome'].instanceID);


                //shifter 2306
                //loadedApi.hide(myNodesByNameFromMap['Painel_PaddleShifter.001'].instanceID);

                //seat base
                loadedApi.hide(myNodesByNameFromMap['Seat_Front_L_Base.001'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Seat_Front_L_Base_GLS.001'].instanceID);

                //body
                loadedApi.hide(myNodesByNameFromMap['Body_Roof_HPE-S (Shiny details)'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Body_Roof_HPE-S'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Body_VD_Glass_Top'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Body_Roof_Open.002'].instanceID);

                loadedApi.show(myNodesByNameFromMap['Body_Roof_Close.001'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Body_Roof'].instanceID);
                
                //front logo
                loadedApi.show(myNodesByNameFromMap['LogoFront_BlackMatte'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['LogoFront_BlackShiny'].instanceID);

                //cambio
                loadedApi.hide(myNodesByNameFromMap['Cambio_Esp_HPE-S'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Cambio_Esp_GLS.001'].instanceID);

                loadedApi.hide(myNodesByNameFromMap['Button_GearPanel_Parking_Detail'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Button_GearPanel_Parking'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Button_GearPanel_SeatHealting'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Freio_2.001'].instanceID);
                            
                
                loadedApi.hide(myNodesByNameFromMap['P_Front_SideDetail_L'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['P_Front_SideDetail_R'].instanceID);

                selectedModel = 0;
                var carColorIndex = $(".car-color.active").data("color-id");
                changeCarColor(carColorIndex);
                lastestModelSelected = 0;
                //back logo
                loadedApi.show(myNodesByNameFromMap['LogoBack_GLS'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['LogoBack_Vidro'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['LogoBack_S'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['LogoBack_HPE'].instanceID);
                $("#intcolorwhite").css("display","none");
                $(".gls").addClass("active");
                $(".hpe").removeClass("active");
                $(".hpes").removeClass("active");
                $(".awd").removeClass("active");
                changeInterior(0);
            });

            $(".hpe").click(function(){

                var html = "<span >-Roda de liga leve 18”</span> <span >-DRL em led</span> <span >- Faróis e lanternas em led</span>";
                var htmlint = "<span >- Ar-condicionado digital Dual Zone</span> <span >- Multimídia JBL com Wi-Fi integrado</span> <span >- Câmera de ré</span> <span>- Bancos dianteiros elétricos e aquecidos</span>";
                $(".interior-items").html(htmlint);
                $(".exterior-items").html(html);
                $("#colorPicker2 span.info").text("Couro Preto");
                //farol
                loadedApi.show(myNodesByNameFromMap['Lights_Front_Silver'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_VD_Glass'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_Chrome'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_BlackShiny'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_Chrome.003'].instanceID);

                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Conver_GLS_Chrome'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Case_GLS_Chrome'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_GLS_BlackMatt'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Cover_LedGLS_Silver'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Glass_GLS_Emissive'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Grid_GLS_Silver'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Glass_GLS_Chrome'].instanceID);

                //seat base
                loadedApi.show(myNodesByNameFromMap['Seat_Front_L_Base.001'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Seat_Front_L_Base_GLS.001'].instanceID);

                //shifter 2306
                //loadedApi.show(myNodesByNameFromMap['Painel_PaddleShifter.001'].instanceID);

                //body
                loadedApi.hide(myNodesByNameFromMap['Body_Roof_HPE-S (Shiny details)'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Body_Roof_HPE-S'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Body_VD_Glass_Top'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Body_Roof_Open.002'].instanceID);

                loadedApi.show(myNodesByNameFromMap['Body_Roof_Close.001'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Body_Roof'].instanceID);
                
                //front logo
                loadedApi.show(myNodesByNameFromMap['LogoFront_BlackMatte'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['LogoFront_BlackShiny'].instanceID);

                //cambio
                loadedApi.show(myNodesByNameFromMap['Cambio_Esp_HPE-S'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Cambio_Esp_GLS.001'].instanceID);

                loadedApi.show(myNodesByNameFromMap['Button_GearPanel_Parking_Detail'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Button_GearPanel_Parking'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Button_GearPanel_SeatHealting'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Freio_2.001'].instanceID);

                loadedApi.hide(myNodesByNameFromMap['P_Front_SideDetail_L'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['P_Front_SideDetail_R'].instanceID);

                selectedModel = 1;
                var carColorIndex = $(".car-color.active").data("color-id");
                changeCarColor(carColorIndex);
                lastestModelSelected = 1;
                //back logo
                loadedApi.hide(myNodesByNameFromMap['LogoBack_GLS'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['LogoBack_Vidro'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['LogoBack_S'].instanceID);
                loadedApi.show(myNodesByNameFromMap['LogoBack_HPE'].instanceID);

                $(".hpe").addClass("active");
                $(".gls").removeClass("active");
                $(".hpes").removeClass("active");
                $(".awd").removeClass("active");
                $("#intcolorwhite").css("display","none");
                changeInterior(0);
            });

            $(".hpes").click(function(){

                var html = "<span >- Roda de liga leve 18”</span> <span >- DRL em led</span> <span >- Faróis e lanternas em led</span>";
                var htmlint = "<span >- Ar-condicionado digital Dual Zone</span> <span >- Multimídia JBL com GPS Offline e Wi-Fi integrado</span> <span >- Câmera de ré</span> <span >- Bancos dianteiros elétricos e aquecidos</span>";
                $(".exterior-items").html(html);
                $(".interior-items").html(htmlint);

                $("#colorPicker2 span.info").text("Couro Cinza Claro");
                 //farol
                loadedApi.show(myNodesByNameFromMap['Lights_Front_Silver'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_VD_Glass'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_Chrome'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_BlackShiny'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_Chrome.003'].instanceID);

                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Conver_GLS_Chrome'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Case_GLS_Chrome'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_GLS_BlackMatt'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Cover_LedGLS_Silver'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Glass_GLS_Emissive'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Grid_GLS_Silver'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Glass_GLS_Chrome'].instanceID);


                //shifter 2306
                //loadedApi.show(myNodesByNameFromMap['Painel_PaddleShifter.001'].instanceID);

                //seat base
                loadedApi.show(myNodesByNameFromMap['Seat_Front_L_Base.001'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Seat_Front_L_Base_GLS.001'].instanceID);

                //body
                loadedApi.show(myNodesByNameFromMap['Body_Roof_HPE-S (Shiny details)'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Body_Roof_HPE-S'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Body_VD_Glass_Top'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Body_Roof_Open.002'].instanceID);

                loadedApi.hide(myNodesByNameFromMap['Body_Roof_Close.001'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Body_Roof'].instanceID);
                
                //front logo
                loadedApi.hide(myNodesByNameFromMap['LogoFront_BlackMatte'].instanceID);
                loadedApi.show(myNodesByNameFromMap['LogoFront_BlackShiny'].instanceID);

                //cambio
                loadedApi.show(myNodesByNameFromMap['Cambio_Esp_HPE-S'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Cambio_Esp_GLS.001'].instanceID);

                loadedApi.show(myNodesByNameFromMap['Button_GearPanel_Parking_Detail'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Button_GearPanel_Parking'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Button_GearPanel_SeatHealting'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Freio_2.001'].instanceID);

                loadedApi.show(myNodesByNameFromMap['P_Front_SideDetail_L'].instanceID);
                loadedApi.show(myNodesByNameFromMap['P_Front_SideDetail_R'].instanceID);

                selectedModel = 2;
                var carColorIndex = $(".car-color.active").data("color-id");
                changeCarColor(carColorIndex);
                lastestModelSelected = 2;
                //back logo
                loadedApi.hide(myNodesByNameFromMap['LogoBack_GLS'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['LogoBack_Vidro'].instanceID);
                loadedApi.show(myNodesByNameFromMap['LogoBack_S'].instanceID);
                loadedApi.show(myNodesByNameFromMap['LogoBack_HPE'].instanceID);
                $(".hpes").addClass("active");
                $(".gls").removeClass("active");
                $(".hpe").removeClass("active");
                $(".awd").removeClass("active");
                $("#intcolorwhite").css("display","inline-block");
                changeInterior(0);
            });

            $(".awd").click(function(){

                var html = "<span >- Roda de liga leve 18”</span> <span >- DRL em led</span> <span >- Faróis e lanternas em led</span>";
                var htmlint = "<span >- Ar-condicionado digital Dual Zone</span> <span >- Multimídia JBL com GPS Offline e Wi-Fi integrado</span> <span >- Câmera de ré</span> <span >- Bancos dianteiros elétricos e aquecidos</span>";
                $(".exterior-items").html(html);
                $(".interior-items").html(htmlint);
                $("#colorPicker2 span.info").text("Couro Cinza Claro");
                 //farol
                 loadedApi.show(myNodesByNameFromMap['Lights_Front_Silver'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_VD_Glass'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_Chrome'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_BlackShiny'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Lights_Front_Chrome.003'].instanceID);

                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Conver_GLS_Chrome'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Case_GLS_Chrome'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_GLS_BlackMatt'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Cover_LedGLS_Silver'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Glass_GLS_Emissive'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Grid_GLS_Silver'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Lights_Front_Glass_GLS_Chrome'].instanceID);


                //shifter 2306
                //loadedApi.show(myNodesByNameFromMap['Painel_PaddleShifter.001'].instanceID);

                //seat base
                loadedApi.show(myNodesByNameFromMap['Seat_Front_L_Base.001'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Seat_Front_L_Base_GLS.001'].instanceID);

                //body
                loadedApi.show(myNodesByNameFromMap['Body_Roof_HPE-S (Shiny details)'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Body_Roof_HPE-S'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Body_VD_Glass_Top'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Body_Roof_Open.002'].instanceID);

                loadedApi.hide(myNodesByNameFromMap['Body_Roof_Close.001'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Body_Roof'].instanceID);
                
                //front logo
                loadedApi.hide(myNodesByNameFromMap['LogoFront_BlackMatte'].instanceID);
                loadedApi.show(myNodesByNameFromMap['LogoFront_BlackShiny'].instanceID);

                //cambio
                loadedApi.show(myNodesByNameFromMap['Cambio_Esp_HPE-S'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Cambio_Esp_GLS.001'].instanceID);

                loadedApi.show(myNodesByNameFromMap['Button_GearPanel_Parking_Detail'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Button_GearPanel_Parking'].instanceID);
                loadedApi.show(myNodesByNameFromMap['Button_GearPanel_SeatHealting'].instanceID);
                loadedApi.hide(myNodesByNameFromMap['Freio_2.001'].instanceID);

                loadedApi.show(myNodesByNameFromMap['P_Front_SideDetail_L'].instanceID);
                loadedApi.show(myNodesByNameFromMap['P_Front_SideDetail_R'].instanceID);
                

                selectedModel = 2;
                var carColorIndex = $(".car-color.active").data("color-id");
                changeCarColor(carColorIndex);
                lastestModelSelected = 2;
                //back logo
                //back logo
                loadedApi.hide(myNodesByNameFromMap['LogoBack_GLS'].instanceID);
                loadedApi.show(myNodesByNameFromMap['LogoBack_Vidro'].instanceID);
                loadedApi.show(myNodesByNameFromMap['LogoBack_S'].instanceID);
                loadedApi.show(myNodesByNameFromMap['LogoBack_HPE'].instanceID);
                $(".awd").addClass("active");
                $(".hpes").removeClass("active");
                $(".gls").removeClass("active");
                $(".hpe").removeClass("active");
                $("#intcolorwhite").css("display","inline-block");
                changeInterior(0);
                });


                $("#interiorView").click(function(){
                    $("#interiorView").addClass("active");
                    $("#exteriorView").removeClass("active");
                    $("#interiorView2").removeClass("active");
                });

                $("#interiorView2").click(function(){
                    $("#interiorView").removeClass("active");
                    $("#exteriorView").removeClass("active");
                    $("#interiorView2").addClass("active");
                });

                $("#exteriorView").click(function(){
                    $("#interiorView").removeClass("active");
                    $("#exteriorView").addClass("active");
                    $("#interiorView2").removeClass("active");
                });


            $(".changeColor").click(function(){
              currentCamera = 0;
              $(".logo").attr("src","logo/mitsubishi.png");
              changeCamera(currentCamera);
              $(".changeColor").addClass("active");
              $(".changeColorInt").removeClass("active");
              $(".exterior-items").addClass("active");
              $(".interior-items").removeClass("active");
              $("#colorPicker2").removeClass("active");
              $("#colorPicker").addClass("active");
            });

            $(".changeColorInt").click(function(){
              currentCamera = 1;
              $(".logo").attr("src","logo/mitsubishi-white.png");
              changeCamera(currentCamera);
              $(".changeColor").removeClass("active");
              $(".changeColorInt").addClass("active");
              $(".exterior-items").removeClass("active");
              $(".interior-items").addClass("active");
              $("#colorPicker").removeClass("active");
              $("#colorPicker2").addClass("active");
            });


            $(".selector-box span:first-child").click(function(){
                var btn = $(this);
                $(".selector-box .active").removeClass("active");
                setTimeout(function(){
                    btn.addClass("active");
                    /*if(btn.attr("id") == "colors" && !$("#colorPicker").hasClass("active")){
                        currentCamera = 0;
                        changeCamera(currentCamera);
                        $("#colorPicker").addClass("active");
                    } else if(btn.attr("id") != "colors" && $("#colorPicker").hasClass("active"))
                        $("#colorPicker").removeClass("active");
                    if(btn.attr("id") == "intColors" && !$("#colorPicker2").hasClass("active")){
                        currentCamera = 1;
                        changeCamera(currentCamera);
                        $("#colorPicker2").addClass("active");
                    } else if(btn.attr("id") != "intColors" && $("#colorPicker2").hasClass("active"))
                        $("#colorPicker2").removeClass("active");*/
                }, 300);
            });
            $("#openDoor").click(function(){
                if(animationRunning)
                    return;
                if(doorOpened){
                    

                    loadedApi.seekTo(2.5);
                    loadedApi.setCycleMode('one');
                    loadedApi.setSpeed(-1);
                    loadedApi.pause();
                    loadedApi.seekTo(2.5);
                    loadedApi.play();

                    doorOpened = false;
                    animationRunning = true;
                    animationInt = setInterval(function(){
                        loadedApi.getCurrentTime(function(err, time) {
                            if(time <= 0.1){
                                loadedApi.pause();
                                clearInterval(animationInt);
                                animationRunning = false;
                            }
                        });
                    }, 10);
                } else {
                    loadedApi.seekTo(0);
                    loadedApi.setCycleMode('one');
                    loadedApi.setSpeed(1);
                    loadedApi.pause();
                    loadedApi.seekTo(0);
                    loadedApi.play();

                    doorOpened = true;
                    animationRunning = true;
                    animationInt = setInterval(function(){
                        loadedApi.getCurrentTime(function(err, time) {
                            if(time >= 2){
                                clearInterval(animationInt);
                                animationRunning = false;
                            }
                        });
                    }, 10);
                }
            });
        });
        function writePrice(price) {
            var price = price.toString().split("");
            return "R$" + price[0] + price[1] + price[2] + "." + price[3] + price[4] + price[5];
        }
    </script>
</body>

</html>
